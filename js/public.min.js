(function($) {
  "use strict";
  return $(function() {
		$(document).foundation();
		// Smooth scroll offset due to sticky nav covering page content.
		// If url is a valid hash for this page then scroll to it on page load.
		var hash = document.location.hash;
		if ( $(hash).length > 0 ) {
			Foundation.SmoothScroll.scrollToLoc(hash, {
				offset: 0,
				animationDuration: 500,
				animationEasing: 'linear',
				threshold: 50
			});
		}

		// Add smooth scroll to primary nav menu links.
		$('.menu-primary a[href*="#"]').on('click', function(e){
			var hash = e.target.href.match(/(#[a-zA-Z0-9\-_]+$)/)[1];
			Foundation.SmoothScroll.scrollToLoc(hash, {
				offset: 0,
				animationDuration: 500,
				animationEasing: 'linear',
				threshold: 50
			});
		});
		return;
  });
})(jQuery);
